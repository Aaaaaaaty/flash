<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>开奖</title>
  <link rel="stylesheet" href="./css/flash.css">
</head>
<body>
  <div id="content">
    <div class="content-wrap">
      <img src="./pic/bg.png" alt="" class="content-wrap-bg">
      <img src="./pic/sky.png" class="content-sky"alt="">
      <img src="./pic/train.gif" class="content-car" alt="">
    </div>
    <!-- 0s出场 -->
    <div class="animals" id="daxiang"></div>
    <div class="animals" id="baozi"></div>
    <div class="animals" id="fenghuang"></div>
    <div class="animals" id="dog"></div>
    <div class="animals" id="banma"></div>
    <div class="animals" id="changjinglu"></div>
    <div class="animals" id="she"></div>
    <!-- 1s出场 -->
    <div class="animals" id="houzi"></div>
    <div class="animals" id="ji"></div>
    <div class="animals" id="laohu"></div>
    <div class="animals" id="laoying"></div>
    <div class="animals" id="long"></div>
    <div class="animals" id="laoshu"></div>
    <div class="animals" id="yang"></div>
    <!-- 2s出场 -->
    <div class="animals" id="niu"></div>
    <div class="animals" id="panda"></div>
    <div class="animals" id="zhu"></div>
    <div class="animals" id="qie"></div>
    <div class="animals" id="shizi"></div>
    <div class="animals" id="tuzi"></div>
  </div>
  <div id="show" ></div>
  <script type="text/javascript" src="./js/jquery-1.8.2.min.js"></script>
  <script type="text/javascript" src="./js/jquery.transit.min.js"></script>
  <script type="text/javascript" src="./js/swipe.sky.js"></script>
  <script type="text/javascript" src="./js/animals.js"></script>
  <script type="text/javascript">
    //提前注册好开奖和退出动画

    var animals = [{
      'name': 'laoshu',
      'index': 1
    },{
      'name': 'niu',
      'index': 2
    },{
      'name': 'laohu',
      'index': 3
    },{
      'name': 'tuzi',
      'index': 4
    },{
      'name': 'she',
      'index': 5
    },{
      'name': 'banma',
      'index': 6
    },{
      'name': 'yang',
      'index': 7
    },{
      'name': 'houzi',
      'index': 8
    },{
      'name': 'ji',
      'index': 9
    },{
      'name': 'dog',
      'index': 10
    },{
      'name': 'pig',
      'index': 11
    },{
      'name': 'qie',
      'index': 12
    },{
      'name': 'daxiang',
      'index': 13
    },{
      'name': 'changjinglu',
      'index': 14
    },{
      'name': 'baozi',
      'index': 15
    },{
      'name': 'panda',
      'index': 16
    },{
      'name': 'laoying',
      'index': 17
    },{
      'name': 'shizi',
      'index': 18
    },{
      'name': 'long',
      'index': 19
    },{
      'name': 'fenghuang',
      'index': 20
    }]
    var result = [1, 2, 18, 17, 20, 16, 13, 12] //后期通过ajax异步获取
    //7s后开始开奖
    setTimeout(function(){
      Animals(animals, result, 1000)
    }, 7000)

    //背景滚动部分代码
    var swipe_bg = SwipeSky($('#content'), $('.content-wrap-bg'))
    var swipe_sky = SwipeSky($('#content'), $('.content-sky'))

    //开场动画部分代码
    var bgTimer = setTimeout(function() {
      swipe_bg.scrollTo($('.content-wrap-bg').width() - $('#content').width(), 25000)
      swipe_sky.scrollTo($('.content-sky').width() - $('#content').width(), 40000)
      var setTime = function(item, time) {
        var timer = setTimeout(function() {
          $('#'+item).addClass(item)
        }, time)
      }
      // 0s后出场 大象 豹子 斑马 长颈鹿 凤凰 狗 蛇
      setTime('daxiang', 0)
      setTime('baozi', 0)
      setTime('banma', 0)
      setTime('changjinglu', 0)
      setTime('fenghuang', 0)
      setTime('dog', 0)
      setTime('she', 0)
      // 1s后出场 猴子 鸡 老虎 老鹰 龙 老鼠 羊
      setTime('houzi', 1000)
      setTime('ji', 1000)
      setTime('laoshu', 1000)
      setTime('laoying', 1000)
      setTime('long', 1000)
      setTime('laohu', 1000)
      setTime('yang', 1000)
      // 2s后出场 牛 熊猫 猪 企鹅 狮子 兔子
      setTime('niu', 2000)
      setTime('panda', 2000)
      setTime('gig', 2000)
      setTime('qie', 2000)
      setTime('shizi', 2000)
      setTime('tuzi', 2000)
    }, 2000)


  </script>
</body>
</html>
